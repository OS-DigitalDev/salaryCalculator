<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CTC to Salary Calculator</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="bg-animation"></div>
    <div class="container">
        <h1 class="title">CTC → Take‑Home Salary Calculator</h1>
        <div class="card">
            <label for="ctc">Enter CTC (Annual):</label>
            <input type="number" id="ctc" placeholder="e.g., 600000" />
            
            <button onclick="handleSalaryCalculation()">Calculate</button>

            <div id="result" class="result-box"></div>

        </div>
    </div>
<script>
/**
 * Calculates a salary breakdown based on an input CTC.
 */
function calculateSalary(ctc) {
    const basicPercentage =  0.5;
    const basic = parseFloat((ctc * basicPercentage).toFixed(2));

    const pfEmployee = parseFloat((basic * 0.12).toFixed(2));
    const pfEmployer = parseFloat((basic * 0.12).toFixed(2));

    let hra = parseFloat((((basic * 1.25)/0.75)-basic).toFixed(2));
    let esicEmployee = 0;
    let esicEmployer = 0;

    if (basic <= 15000) {
        esicEmployee = parseFloat(((basic+hra) * 0.0075).toFixed(2));
        esicEmployer = parseFloat(((basic+hra) * 0.0325).toFixed(2));
    }

    const specialAllowance = parseFloat(
        (ctc - (basic + pfEmployer + esicEmployer + hra)).toFixed(2)
    );
    const hraAdjusted = parseFloat((hra).toFixed(2));

    const takeHome = parseFloat(
        (basic + hraAdjusted - pfEmployee - esicEmployee).toFixed(2)
    );

    return {
        "Basic": basic,
        "HRA": hra,
        "Special Allowance": specialAllowance,
        "PF Employee": pfEmployee,
        "PF Employer": pfEmployer,
        "ESIC Employee": esicEmployee,
        "ESIC Employer": esicEmployer,
        "Take-Home Salary Monthly": parseFloat((takeHome / 12).toFixed(2)),
        "Take-Home Salary Annual": takeHome,
        "Total CTC": ctc
    };
}

/**
 * Display results with animation + glowing button style.
 */
function handleSalaryCalculation() {
    const ctcInput = document.getElementById("ctc").value;

    if (isNaN(ctcInput) || ctcInput <= 0) {
        document.getElementById("result").innerHTML =
            "<p class='error'>Please enter a valid CTC.</p>";
        return;
    }

    const ctc = parseFloat(ctcInput);
    const components = calculateSalary(ctc);

    // Animated container
    let html = `<h3 class="fade-title">Salary Breakdown</h3><div class="result-animated">`;

    // Convert each component into a glowing button
    for (const key in components) {
        html += `
            <button class="result-btn">
                <strong>${key}:</strong> ₹${components[key].toLocaleString("en-IN")}
            </button>
        `;
    }

    html += `</div>`;

    document.getElementById("result").innerHTML = html;
}
</script>


</body>
</html>

